<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>生日祝福 ✨</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e, #ffaaaa);
            min-height: 100vh;
            overflow: hidden;
            font-family: 'Dancing Script', cursive;
        }

        .container {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            perspective: 1000px;
        }

        .birthday-text {
            font-size: 5rem;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 223, 0, 0.8);
            animation: float 3s ease-in-out infinite;
            margin-bottom: 2rem;
        }

        .message {
            font-size: 2rem;
            color: #fff;
            max-width: 600px;
            text-align: center;
            opacity: 0;
            animation: messageAppear 2s 1.5s forwards;
            background: rgba(255, 223, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 223, 0, 0.8);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 30px rgba(255, 223, 0, 0.4);
        }

        .decorations span {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotateZ(-5deg); }
            50% { transform: translateY(-20px) rotateZ(5deg); }
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(50px) rotateX(90deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) rotateX(0);
            }
        }

        .animated-text span {
            display: inline-block;
            animation: letterPop 0.5s cubic-bezier(0.5, 0, 0.5, 1.5) forwards;
            font-family: 'Great Vibes', cursive;
        }

        @keyframes letterPop {
            from {
                opacity: 0;
                transform: scale(0) rotate(360deg);
            }
            to {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .glitter {
            position: fixed;
            pointer-events: none;
            z-index: 999;
            background: radial-gradient(circle at center, 
                rgba(255,255,255,0.9) 0%,
                rgba(255,223,0,0.6) 50%,
                transparent 100%);
            filter: blur(2px);
            transform: scale(0);
            animation: glitterExpand 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes glitterExpand {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            100% {
                opacity: 0;
                transform: scale(4);
            }
        }

        /* 新增粒子特效 */
        .particle {
            position: absolute;
            background: linear-gradient(45deg, #ffdd00, #ff8866);
            border-radius: 50%;
            pointer-events: none;
            animation: particleFly 1s ease-out forwards;
        }

        @keyframes particleFly {
            0% {
                transform: translate(0, 0) scale(0.5);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        .falling-text {
            position: fixed;
            top: -50px;
            font-size: 1.2rem;
            text-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
            animation: fallAndBounce 6s linear forwards;
        }

        @keyframes fallAndBounce {
            0% {
                transform: translateY(0) rotateZ(0deg);
                opacity: 1;
            }
            70% {
                transform: translateY(95vh) rotateZ(360deg);
                opacity: 0.8;
            }
            80% {
                transform: translateY(90vh) rotateZ(540deg);
                opacity: 0.6;
            }
            90% {
                transform: translateY(93vh) rotateZ(720deg);
                opacity: 0.4;
            }
            100% {
                transform: translateY(100vh) rotateZ(900deg);
                opacity: 0;
            }
        }

        /* 添加字符滚落效果 */
        .matrix-fall {
            position: absolute;
            top: -100px;
            font-size: 1rem;
            color: #00ff00;
            animation: fall 5s linear forwards;
        }

        @keyframes fall {
            from { transform: translateY(0); opacity: 0.8; }
            to { transform: translateY(100vh); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <br><br>
        <h1 class="birthday-text">🎂 Happy Birthday! 🎉</h1>
        <div class="message animated-text">
            <span style="animation-delay: 0.2s">祝</span>
            <br>
            <span style="animation-delay: 0.4s">亲爱的</span>
            <br>
            <span style="animation-delay: 0.6s;">姐姐</span>
            <br>
            <span style="animation-delay: 0.8s">生日快乐</span>
            <br>
            <span style="animation-delay: 1s;">愿你平安无疾，前程似锦，被这个世界温柔以待</span>
            <br>
            <span style="animation-delay: 1.2s;">🎉🎉🎉</span>
        </div>
    </div>

    <script>
        // 字符库
        const characters = ['🎉', '🎂', '🎁', '❤️', '✨', '🎈', '🌸', '★', '☀️', '🎇', '🥞', '🍡', '🍭', 'Happy Birthday!'];

        function createMatrixFall() {
            for (let i = 0; i < 50; i++) {
                const char = document.createElement('div');
                char.className = 'matrix-fall';
                char.textContent = characters[Math.floor(Math.random() * characters.length)];
                char.style.left = `${Math.random() * 100}vw`;
                char.style.animationDuration = `${Math.random() * 2 + 3}s`;
                char.style.animationDelay = `${Math.random() * 5}s`;
                document.body.appendChild(char);
                setTimeout(() => char.remove(), 6000);
            }
        }

        // 初始化字符滚落
        function initMatrixFall() {
            setInterval(createMatrixFall, 800);
        }

        // 创建随机下落字符
        function createFallingText() {
            const element = document.createElement('div');
            element.className = 'falling-text';
            
            // 随机选择内容（50%概率显示文字，50%显示符号）
            const isText = Math.random() > 0.5;
            element.textContent = isText 
                ? messages[Math.floor(Math.random() * messages.length)]
                : characters[Math.floor(Math.random() * characters.length)];
            
            // 随机设置样式
            element.style.left = `${Math.random() * 100}%`;
            element.style.fontSize = `${isText ? '1.2rem' : '2rem'}`;
            element.style.animationDuration = `${Math.random() * 2 + 3}s`;
            element.style.animationDelay = `${Math.random() * 1}s`;
            element.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
            
            document.body.appendChild(element);
            
            // 动画结束后移除元素
            setTimeout(() => element.remove(), 6000);
        }

        // 初始化字符下落
        function initFallingText() {
            // 立即创建3个字符
            for(let i = 0; i < 3; i++) {
                setTimeout(createFallingText, i * 500);
            }
            // 持续生成
            setInterval(() => {
                if(Math.random() > 0.3) createFallingText();
            }, 800);
        }

        // 改进后的点击特效
        document.addEventListener('click', function(e) {
            // 主闪光效果
            createGlitter(e);
            
            // 创建粒子特效
            createParticles(e.clientX, e.clientY);
        });

        function createGlitter(e) {
            const glitter = document.createElement('div');
            glitter.className = 'glitter';
            glitter.style.cssText = `
                left: ${e.clientX}px;
                top: ${e.clientY}px;
                width: 40px;
                height: 40px;
            `;
            document.body.appendChild(glitter);
            setTimeout(() => glitter.remove(), 800);
        }

        function createParticles(x, y) {
            for(let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                const angle = (Math.PI * 2) * (i / 8);
                const speed = Math.random() * 150 + 50;
                
                particle.className = 'particle';
                particle.style.cssText = `
                    left: ${x}px;
                    top: ${y}px;
                    width: ${Math.random() * 6 + 4}px;
                    height: ${Math.random() * 6 + 4}px;
                    --tx: ${Math.cos(angle) * speed}px;
                    --ty: ${Math.sin(angle) * speed}px;
                `;
                
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 1000);
            }
        }

        // 创建随机装饰粒子
        function createDecorations() {
            const container = document.querySelector('.container');
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('span');
                star.style.cssText = `
                    width: ${Math.random() * 5 + 2}px;
                    height: ${Math.random() * 5 + 2}px;
                    left: ${Math.random() * 100}%;
                    top: ${Math.random() * 100}%;
                    animation: twinkle ${Math.random() * 3 + 2}s infinite;
                `;
                container.appendChild(star);
            }
        }

        // 初始化
        window.onload = () => {
            initFallingText();
            createDecorations();
            initMatrixFall(); // 添加字符滚落初始化
            // 为每个文字添加动画延迟
            document.querySelectorAll('.animated-text span').forEach((span, index) => {
                span.style.animation = 'scrollIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards';
                span.style.animationDelay = `${index * 0.2 + 1}s`;
            });
        };
    </script>
</body>
</html>
